import{S as oe,i as re,s as le,J as fe,l as W,m as y,n as I,h as u,p as T,b as p,U as z,K as ie,L as ue,M as ce,f as E,t as D,X as Ie,D as de,x as R,y as M,z as O,A as ot,B as rt,C as Q,j as mt,W as De,a0 as He,a8 as Ae,a9 as Ce,e as te,g as Y,d as Z,O as Ne,P as _t,r as L,a as C,u as B,c as N,N as v,F as ee,v as G,V as Pe,ak as Te,I as dt,Q as bt,w as Xe,H as ft}from"./index-7e739eea.js";import{p as it}from"./stores-7f07ccfb.js";import{T as ut,a as ct,b as Ue}from"./table-row-88c40201.js";import{c as ht}from"./core-user-d7236ce4.js";import{f as x}from"./format-date-c1755997.js";import{q as kt,s as wt,u as pt,v as Ge}from"./format-time-d031c2bc.js";import{n as gt}from"./route-for-06e4a074.js";import{u as Tt}from"./update-query-parameters-0d565146.js";import{t as Ye}from"./workflow-service-edf003eb.js";import{c as vt,d as Be,e as Et,f as St,g as Wt}from"./is-44021919.js";import{W as yt}from"./workflow-status-cd15e3c1.js";import{I as qe}from"./icon-e2f06bf3.js";import{c as It}from"./copy-to-clipboard-1ace7192.js";import{B as Dt}from"./button-b1c22f57.js";function Ht(n){let e,s,t,l;const f=n[2].default,a=fe(f,n,n[1],null);return{c(){e=W("button"),a&&a.c(),this.h()},l(o){e=y(o,"BUTTON",{class:!0});var r=I(e);a&&a.l(r),r.forEach(u),this.h()},h(){e.disabled=n[0],T(e,"class","bulk-action-button svelte-1u0at90")},m(o,r){p(o,e,r),a&&a.m(e,null),s=!0,t||(l=z(e,"click",n[3]),t=!0)},p(o,[r]){a&&a.p&&(!s||r&2)&&ie(a,f,o,o[1],s?ce(f,o[1],r,null):ue(o[1]),null),(!s||r&1)&&(e.disabled=o[0])},i(o){s||(E(a,o),s=!0)},o(o){D(a,o),s=!1},d(o){o&&u(e),a&&a.d(o),t=!1,l()}}}function At(n,e,s){let{$$slots:t={},$$scope:l}=e,{disabled:f=!0}=e;function a(o){Ie.call(this,n,o)}return n.$$set=o=>{"disabled"in o&&s(0,f=o.disabled),"$$scope"in o&&s(1,l=o.$$scope)},[f,l,t,a]}class Ct extends oe{constructor(e){super(),re(this,e,At,Ht,le,{disabled:0})}}const Nt=n=>({}),Ze=n=>({}),Pt=n=>({}),$e=n=>({});function Ft(n){let e;const s=n[7].default,t=fe(s,n,n[9],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,f){t&&t.m(l,f),e=!0},p(l,f){t&&t.p&&(!e||f&512)&&ie(t,s,l,l[9],e?ce(s,l[9],f,null):ue(l[9]),null)},i(l){e||(E(t,l),e=!0)},o(l){D(t,l),e=!1},d(l){t&&t.d(l)}}}function Lt(n){let e;const s=n[7]["default-headers"],t=fe(s,n,n[9],Ze);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,f){t&&t.m(l,f),e=!0},p(l,f){t&&t.p&&(!e||f&512)&&ie(t,s,l,l[9],e?ce(s,l[9],f,Nt):ue(l[9]),Ze)},i(l){e||(E(t,l),e=!0)},o(l){D(t,l),e=!1},d(l){t&&t.d(l)}}}function Bt(n){let e;const s=n[7]["bulk-action-headers"],t=fe(s,n,n[9],$e);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,f){t&&t.m(l,f),e=!0},p(l,f){t&&t.p&&(!e||f&512)&&ie(t,s,l,l[9],e?ce(s,l[9],f,Pt):ue(l[9]),$e)},i(l){e||(E(t,l),e=!0)},o(l){D(t,l),e=!1},d(l){t&&t.d(l)}}}function Ut(n){let e,s,t,l;const f=[Bt,Lt],a=[];function o(r,i){return r[0].length>0?0:1}return e=o(n),s=a[e]=f[e](n),{c(){s.c(),t=te()},l(r){s.l(r),t=te()},m(r,i){a[e].m(r,i),p(r,t,i),l=!0},p(r,i){let _=e;e=o(r),e===_?a[e].p(r,i):(Y(),D(a[_],1,1,()=>{a[_]=null}),Z(),s=a[e],s?s.p(r,i):(s=a[e]=f[e](r),s.c()),E(s,1),s.m(t.parentNode,t))},i(r){l||(E(s),l=!0)},o(r){D(s),l=!1},d(r){a[e].d(r),r&&u(t)}}}function qt(n){let e,s,t;function l(a){n[8](a)}let f={slot:"headers",selectable:!0,checkboxLabel:n[0].length>0?null:n[2],indeterminate:n[3],$$slots:{default:[Ut]},$$scope:{ctx:n}};return n[1]!==void 0&&(f.selected=n[1]),e=new ct({props:f}),He.push(()=>Ae(e,"selected",l)),e.$on("change",n[4]),{c(){R(e.$$.fragment)},l(a){M(e.$$.fragment,a)},m(a,o){O(e,a,o),t=!0},p(a,o){const r={};o&5&&(r.checkboxLabel=a[0].length>0?null:a[2]),o&8&&(r.indeterminate=a[3]),o&513&&(r.$$scope={dirty:o,ctx:a}),!s&&o&2&&(s=!0,r.selected=a[1],Ce(()=>s=!1)),e.$set(r)},i(a){t||(E(e.$$.fragment,a),t=!0)},o(a){D(e.$$.fragment,a),t=!1},d(a){Q(e,a)}}}function Rt(n){let e,s;const t=[{variant:"fancy"},{class:n[5].class},n[5]];let l={$$slots:{headers:[qt],default:[Ft]},$$scope:{ctx:n}};for(let f=0;f<t.length;f+=1)l=de(l,t[f]);return e=new ut({props:l}),{c(){R(e.$$.fragment)},l(f){M(e.$$.fragment,f)},m(f,a){O(e,f,a),s=!0},p(f,[a]){const o=a&32?ot(t,[t[0],{class:f[5].class},rt(f[5])]):{};a&527&&(o.$$scope={dirty:a,ctx:f}),e.$set(o)},i(f){s||(E(e.$$.fragment,f),s=!0)},o(f){D(e.$$.fragment,f),s=!1},d(f){Q(e,f)}}}function Ot(n,e,s){let t,{$$slots:l={},$$scope:f}=e,{items:a}=e,{checkboxLabel:o=null}=e,{allSelected:r=!1}=e,{selectedItems:i=[]}=e;const _=c=>{s(1,r=!r),s(0,i=c.detail.checked?a:[])};mt("selectable-table-context",{handleSelectRow:(c,g)=>{const{checked:k}=c.detail;k?(i.push(g),s(0,i)):s(0,i=i.filter(S=>S.id!==g.id)),s(1,r=i.length===a.length)}});function A(c){r=c,s(1,r)}return n.$$set=c=>{s(5,e=de(de({},e),De(c))),"items"in c&&s(6,a=c.items),"checkboxLabel"in c&&s(2,o=c.checkboxLabel),"allSelected"in c&&s(1,r=c.allSelected),"selectedItems"in c&&s(0,i=c.selectedItems),"$$scope"in c&&s(9,f=c.$$scope)},n.$$.update=()=>{n.$$.dirty&65&&s(3,t=i.length!==0&&i.length!==a.length)},e=De(e),[i,r,o,t,_,e,a,l,A,f]}class Qt extends oe{constructor(e){super(),re(this,e,Ot,Rt,le,{items:6,checkboxLabel:2,allSelected:1,selectedItems:0})}}function jt(n){let e,s;return e=new ut({props:{class:"w-full md:table-fixed",updating:n[3],$$slots:{headers:[Kt],default:[Mt]},$$scope:{ctx:n}}}),{c(){R(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,l){O(e,t,l),s=!0},p(t,l){const f={};l&8&&(f.updating=t[3]),l&16384&&(f.$$scope={dirty:l,ctx:t}),e.$set(f)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){D(e.$$.fragment,t),s=!1},d(t){Q(e,t)}}}function zt(n){let e,s,t,l;function f(r){n[12](r)}function a(r){n[13](r)}let o={class:"w-full md:table-fixed",items:n[4],updating:n[3],$$slots:{"bulk-action-headers":[$t],"default-headers":[Xt],default:[Jt]},$$scope:{ctx:n}};return n[1]!==void 0&&(o.allSelected=n[1]),n[0]!==void 0&&(o.selectedItems=n[0]),e=new Qt({props:o}),He.push(()=>Ae(e,"allSelected",f)),He.push(()=>Ae(e,"selectedItems",a)),{c(){R(e.$$.fragment)},l(r){M(e.$$.fragment,r)},m(r,i){O(e,r,i),l=!0},p(r,i){const _={};i&16&&(_.items=r[4]),i&8&&(_.updating=r[3]),i&16481&&(_.$$scope={dirty:i,ctx:r}),!s&&i&2&&(s=!0,_.allSelected=r[1],Ce(()=>s=!1)),!t&&i&1&&(t=!0,_.selectedItems=r[0],Ce(()=>t=!1)),e.$set(_)},i(r){l||(E(e.$$.fragment,r),l=!0)},o(r){D(e.$$.fragment,r),l=!1},d(r){Q(e,r)}}}function Mt(n){let e;const s=n[11].default,t=fe(s,n,n[14],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,f){t&&t.m(l,f),e=!0},p(l,f){t&&t.p&&(!e||f&16384)&&ie(t,s,l,l[14],e?ce(s,l[14],f,null):ue(l[14]),null)},i(l){e||(E(t,l),e=!0)},o(l){D(t,l),e=!1},d(l){t&&t.d(l)}}}function Vt(n){let e,s,t,l,f,a,o,r,i,_,b,A,c,g,k,S,F;return{c(){e=W("th"),s=L("Status"),t=C(),l=W("th"),f=L("Workflow ID"),a=C(),o=W("th"),r=L("Type"),i=C(),_=W("th"),b=L("Start"),A=C(),c=W("th"),g=L("End"),k=C(),S=W("th"),F=L("Summary"),this.h()},l(m){e=y(m,"TH",{class:!0});var h=I(e);s=B(h,"Status"),h.forEach(u),t=N(m),l=y(m,"TH",{class:!0});var U=I(l);f=B(U,"Workflow ID"),U.forEach(u),a=N(m),o=y(m,"TH",{class:!0});var j=I(o);r=B(j,"Type"),j.forEach(u),i=N(m),_=y(m,"TH",{class:!0});var d=I(_);b=B(d,"Start"),d.forEach(u),A=N(m),c=y(m,"TH",{class:!0});var H=I(c);g=B(H,"End"),H.forEach(u),k=N(m),S=y(m,"TH",{class:!0,colspan:!0});var q=I(S);F=B(q,"Summary"),q.forEach(u),this.h()},h(){T(e,"class","hidden w-32 md:table-cell"),T(l,"class","hidden md:table-cell md:w-60 xl:w-auto"),T(o,"class","hidden md:table-cell md:w-60 xl:w-80"),T(_,"class","hidden xl:table-cell xl:w-60"),T(c,"class","hidden xl:table-cell xl:w-60"),T(S,"class","table-cell md:hidden"),T(S,"colspan","3")},m(m,h){p(m,e,h),v(e,s),p(m,t,h),p(m,l,h),v(l,f),p(m,a,h),p(m,o,h),v(o,r),p(m,i,h),p(m,_,h),v(_,b),p(m,A,h),p(m,c,h),v(c,g),p(m,k,h),p(m,S,h),v(S,F)},p:ee,d(m){m&&u(e),m&&u(t),m&&u(l),m&&u(a),m&&u(o),m&&u(i),m&&u(_),m&&u(A),m&&u(c),m&&u(k),m&&u(S)}}}function Kt(n){let e,s;return e=new ct({props:{slot:"headers",$$slots:{default:[Vt]},$$scope:{ctx:n}}}),{c(){R(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,l){O(e,t,l),s=!0},p(t,l){const f={};l&16384&&(f.$$scope={dirty:l,ctx:t}),e.$set(f)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){D(e.$$.fragment,t),s=!1},d(t){Q(e,t)}}}function Jt(n){let e;const s=n[11].default,t=fe(s,n,n[14],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,f){t&&t.m(l,f),e=!0},p(l,f){t&&t.p&&(!e||f&16384)&&ie(t,s,l,l[14],e?ce(s,l[14],f,null):ue(l[14]),null)},i(l){e||(E(t,l),e=!0)},o(l){D(t,l),e=!1},d(l){t&&t.d(l)}}}function Xt(n){let e,s,t,l,f,a,o,r,i,_,b,A,c,g,k,S,F;return{c(){e=W("th"),s=L("Status"),t=C(),l=W("th"),f=L("Workflow ID"),a=C(),o=W("th"),r=L("Type"),i=C(),_=W("th"),b=L("Start"),A=C(),c=W("th"),g=L("End"),k=C(),S=W("th"),F=L("Summary"),this.h()},l(m){e=y(m,"TH",{class:!0});var h=I(e);s=B(h,"Status"),h.forEach(u),t=N(m),l=y(m,"TH",{class:!0});var U=I(l);f=B(U,"Workflow ID"),U.forEach(u),a=N(m),o=y(m,"TH",{class:!0});var j=I(o);r=B(j,"Type"),j.forEach(u),i=N(m),_=y(m,"TH",{class:!0});var d=I(_);b=B(d,"Start"),d.forEach(u),A=N(m),c=y(m,"TH",{class:!0});var H=I(c);g=B(H,"End"),H.forEach(u),k=N(m),S=y(m,"TH",{class:!0,colspan:!0});var q=I(S);F=B(q,"Summary"),q.forEach(u),this.h()},h(){T(e,"class","hidden w-32 md:table-cell"),T(l,"class","hidden h-10 md:table-cell md:w-60 xl:w-auto"),T(o,"class","hidden md:table-cell md:w-60 xl:w-80"),T(_,"class","hidden xl:table-cell xl:w-60"),T(c,"class","hidden xl:table-cell xl:w-60"),T(S,"class","table-cell md:hidden"),T(S,"colspan","3")},m(m,h){p(m,e,h),v(e,s),p(m,t,h),p(m,l,h),v(l,f),p(m,a,h),p(m,o,h),v(o,r),p(m,i,h),p(m,_,h),v(_,b),p(m,A,h),p(m,c,h),v(c,g),p(m,k,h),p(m,S,h),v(S,F)},p:ee,d(m){m&&u(e),m&&u(t),m&&u(l),m&&u(a),m&&u(o),m&&u(i),m&&u(_),m&&u(A),m&&u(c),m&&u(k),m&&u(S)}}}function Gt(n){let e,s;return{c(){e=W("span"),s=L("No bulk actions available for selected workflows."),this.h()},l(t){e=y(t,"SPAN",{class:!0});var l=I(e);s=B(l,"No bulk actions available for selected workflows."),l.forEach(u),this.h()},h(){T(e,"class","whitespace-nowrap italic")},m(t,l){p(t,e,l),v(e,s)},p:ee,i:ee,o:ee,d(t){t&&u(e)}}}function Yt(n){let e,s;return e=new Ct({props:{disabled:n[6],$$slots:{default:[Zt]},$$scope:{ctx:n}}}),e.$on("click",n[7]),{c(){R(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,l){O(e,t,l),s=!0},p(t,l){const f={};l&64&&(f.disabled=t[6]),l&16384&&(f.$$scope={dirty:l,ctx:t}),e.$set(f)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){D(e.$$.fragment,t),s=!1},d(t){Q(e,t)}}}function Zt(n){let e;return{c(){e=L("Terminate")},l(s){e=B(s,"Terminate")},m(s,t){p(s,e,t)},d(s){s&&u(e)}}}function $t(n){let e,s,t=n[0].length+"",l,f,a,o,r,i,_,b,A,c,g,k,S,F,m;const h=[Yt,Gt],U=[];function j(d,H){return d[5]>0?0:1}return r=j(n),i=U[r]=h[r](n),{c(){e=W("th"),s=W("span"),l=L(t),f=L(" selected"),a=C(),o=W("th"),i.c(),_=C(),b=W("th"),A=C(),c=W("th"),g=C(),k=W("th"),S=C(),F=W("th"),this.h()},l(d){e=y(d,"TH",{class:!0});var H=I(e);s=y(H,"SPAN",{class:!0});var q=I(s);l=B(q,t),f=B(q," selected"),q.forEach(u),H.forEach(u),a=N(d),o=y(d,"TH",{class:!0});var V=I(o);i.l(V),V.forEach(u),_=N(d),b=y(d,"TH",{class:!0}),I(b).forEach(u),A=N(d),c=y(d,"TH",{class:!0}),I(c).forEach(u),g=N(d),k=y(d,"TH",{class:!0}),I(k).forEach(u),S=N(d),F=y(d,"TH",{class:!0,colspan:!0}),I(F).forEach(u),this.h()},h(){T(s,"class","font-semibold"),T(e,"class","hidden w-32 md:table-cell"),T(o,"class","hidden h-10 md:table-cell md:w-60 xl:w-auto"),T(b,"class","hidden md:table-cell md:w-60 xl:w-80"),T(c,"class","hidden xl:table-cell xl:w-60"),T(k,"class","hidden xl:table-cell xl:w-60"),T(F,"class","table-cell md:hidden"),T(F,"colspan","3")},m(d,H){p(d,e,H),v(e,s),v(s,l),v(s,f),p(d,a,H),p(d,o,H),U[r].m(o,null),p(d,_,H),p(d,b,H),p(d,A,H),p(d,c,H),p(d,g,H),p(d,k,H),p(d,S,H),p(d,F,H),m=!0},p(d,H){(!m||H&1)&&t!==(t=d[0].length+"")&&G(l,t);let q=r;r=j(d),r===q?U[r].p(d,H):(Y(),D(U[q],1,1,()=>{U[q]=null}),Z(),i=U[r],i?i.p(d,H):(i=U[r]=h[r](d),i.c()),E(i,1),i.m(o,null))},i(d){m||(E(i),m=!0)},o(d){D(i),m=!1},d(d){d&&u(e),d&&u(a),d&&u(o),U[r].d(),d&&u(_),d&&u(b),d&&u(A),d&&u(c),d&&u(g),d&&u(k),d&&u(S),d&&u(F)}}}function xt(n){let e,s,t,l;const f=[zt,jt],a=[];function o(r,i){return r[2]?0:1}return e=o(n),s=a[e]=f[e](n),{c(){s.c(),t=te()},l(r){s.l(r),t=te()},m(r,i){a[e].m(r,i),p(r,t,i),l=!0},p(r,[i]){let _=e;e=o(r),e===_?a[e].p(r,i):(Y(),D(a[_],1,1,()=>{a[_]=null}),Z(),s=a[e],s?s.p(r,i):(s=a[e]=f[e](r),s.c()),E(s,1),s.m(t.parentNode,t))},i(r){l||(E(s),l=!0)},o(r){D(s),l=!1},d(r){a[e].d(r),r&&u(t)}}}function el(n,e,s){let t,l,f;Ne(n,it,h=>s(9,l=h));let{$$slots:a={},$$scope:o}=e;const r=_t();let{bulkActionsEnabled:i=!1}=e,{updating:_=!1}=e,{visibleWorkflows:b=[]}=e,{selectedWorkflows:A=[]}=e,{terminableWorkflowCount:c=0}=e,{allSelected:g=!1}=e;const k=()=>{r("terminateWorkflows")};let S=ht();Ne(n,S,h=>s(10,f=h));function F(h){g=h,s(1,g)}function m(h){A=h,s(0,A)}return n.$$set=h=>{"bulkActionsEnabled"in h&&s(2,i=h.bulkActionsEnabled),"updating"in h&&s(3,_=h.updating),"visibleWorkflows"in h&&s(4,b=h.visibleWorkflows),"selectedWorkflows"in h&&s(0,A=h.selectedWorkflows),"terminableWorkflowCount"in h&&s(5,c=h.terminableWorkflowCount),"allSelected"in h&&s(1,g=h.allSelected),"$$scope"in h&&s(14,o=h.$$scope)},n.$$.update=()=>{n.$$.dirty&1536&&s(6,t=f.terminateDisabled(l.params.namespace))},[A,g,i,_,b,c,t,k,S,l,f,a,F,m,o]}class Fl extends oe{constructor(e){super(),re(this,e,el,xt,le,{bulkActionsEnabled:2,updating:3,visibleWorkflows:4,selectedWorkflows:0,terminableWorkflowCount:5,allSelected:1})}}const tl=n=>{const e=[],s=()=>{t&&(e.push(t),t="")};let t="",l=0;for(;l<n.length;){const f=n[l];if(vt(f)){t+=f,s(),l++;continue}if(Be(f)){const a=`${n[l]}${n[l+1]}`,o=`${n[l]}${n[l+1]}${n[l+2]}`;if(Be(o)){s(),t+=o,l+=3;continue}else if(Be(a)){s(),t+=a,l+=2;continue}else{s(),t+=f,l++;continue}}if(Et(f)||St(f)){s(),l++;continue}t+=f,l++}return s(),e},Fe=n=>e=>e.toLowerCase()===n.toLowerCase(),ye=(n,e)=>n[e+2],ll=n=>{if(!!n){for(const e of pt)if(n[e])return{[e]:n[e]}}},sl=Fe("WorkflowType"),nl=Fe("WorkflowId"),al=Fe("StartTime"),ol=Fe("ExecutionStatus"),rl=n=>{const e=tl(n),s={workflowId:"",workflowType:"",executionStatus:null,timeRange:null};return e.forEach((t,l)=>{if(nl(t)&&(s.workflowId=ye(e,l)),sl(t)&&(s.workflowType=ye(e,l)),ol(t)){const f=ye(e,l);Wt(f)&&(s.executionStatus=f)}if(al(t)){const f=ye(e,l);try{const a=kt(f),o=ll(a);s.timeRange=wt(o)}catch(a){console.error("Error parsing StartTime from query",a)}}}),s};function xe(n){let e,s,t,l,f,a=n[1]&&et(n),o=n[2]&&lt(n);return{c(){e=W("div"),a&&a.c(),s=C(),o&&o.c(),this.h()},l(r){e=y(r,"DIV",{class:!0});var i=I(e);a&&a.l(i),s=N(i),o&&o.l(i),i.forEach(u),this.h()},h(){T(e,"class","copy-or-filter svelte-uzo6ow")},m(r,i){p(r,e,i),a&&a.m(e,null),v(e,s),o&&o.m(e,null),t=!0,l||(f=z(e,"click",Pe(Te(ee))),l=!0)},p(r,i){r[1]?a?(a.p(r,i),i&2&&E(a,1)):(a=et(r),a.c(),E(a,1),a.m(e,s)):a&&(Y(),D(a,1,1,()=>{a=null}),Z()),r[2]?o?(o.p(r,i),i&4&&E(o,1)):(o=lt(r),o.c(),E(o,1),o.m(e,null)):o&&(Y(),D(o,1,1,()=>{o=null}),Z())},i(r){t||(E(a),E(o),t=!0)},o(r){D(a),D(o),t=!1},d(r){r&&u(e),a&&a.d(),o&&o.d(),l=!1,f()}}}function et(n){let e,s=n[5],t,l,f,a=tt(n);return{c(){e=W("button"),a.c()},l(o){e=y(o,"BUTTON",{});var r=I(e);a.l(r),r.forEach(u)},m(o,r){p(o,e,r),a.m(e,null),t=!0,l||(f=z(e,"click",Pe(Te(function(){dt(n[4])&&n[4].apply(this,arguments)}))),l=!0)},p(o,r){n=o,r&32&&le(s,s=n[5])?(Y(),D(a,1,1,ee),Z(),a=tt(n),a.c(),E(a,1),a.m(e,null)):a.p(n,r)},i(o){t||(E(a),t=!0)},o(o){D(a),t=!1},d(o){o&&u(e),a.d(o),l=!1,f()}}}function tt(n){let e,s;return e=new qe({props:{name:"filter",class:"h-4 w-4 rounded-sm "+(n[5]?"bg-gray-900 text-white":"")}}),{c(){R(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,l){O(e,t,l),s=!0},p(t,l){const f={};l&32&&(f.class="h-4 w-4 rounded-sm "+(t[5]?"bg-gray-900 text-white":"")),e.$set(f)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){D(e.$$.fragment,t),s=!1},d(t){Q(e,t)}}}function lt(n){let e,s,t,l,f;return s=new qe({props:{name:n[6]?"checkmark":"copy",stroke:"#000"}}),{c(){e=W("button"),R(s.$$.fragment)},l(a){e=y(a,"BUTTON",{});var o=I(e);M(s.$$.fragment,o),o.forEach(u)},m(a,o){p(a,e,o),O(s,e,null),t=!0,l||(f=z(e,"click",Pe(Te(n[9]))),l=!0)},p(a,o){const r={};o&64&&(r.name=a[6]?"checkmark":"copy"),s.$set(r)},i(a){t||(E(s.$$.fragment,a),t=!0)},o(a){D(s.$$.fragment,a),t=!1},d(a){a&&u(e),Q(s),l=!1,f()}}}function fl(n){let e,s,t=n[0]&&xe(n);return{c(){t&&t.c(),e=te()},l(l){t&&t.l(l),e=te()},m(l,f){t&&t.m(l,f),p(l,e,f),s=!0},p(l,[f]){l[0]?t?(t.p(l,f),f&1&&E(t,1)):(t=xe(l),t.c(),E(t,1),t.m(e.parentNode,e)):t&&(Y(),D(t,1,1,()=>{t=null}),Z())},i(l){s||(E(t),s=!0)},o(l){D(t),s=!1},d(l){t&&t.d(l),l&&u(e)}}}function il(n,e,s){let t,{show:l=!1}=e,{filterable:f=!0}=e,{copyable:a=!0}=e,{content:o}=e,{onFilter:r=ee}=e,{filtered:i=!1}=e;const{copy:_,copied:b}=It(700);Ne(n,b,c=>s(6,t=c));const A=c=>_(c,o);return n.$$set=c=>{"show"in c&&s(0,l=c.show),"filterable"in c&&s(1,f=c.filterable),"copyable"in c&&s(2,a=c.copyable),"content"in c&&s(3,o=c.content),"onFilter"in c&&s(4,r=c.onFilter),"filtered"in c&&s(5,i=c.filtered)},[l,f,a,o,r,i,t,_,b,A]}class st extends oe{constructor(e){super(),re(this,e,il,fl,le,{show:0,filterable:1,copyable:2,content:3,onFilter:4,filtered:5})}}function ul(n){let e;const s=n[4].default,t=fe(s,n,n[7],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,f){t&&t.m(l,f),e=!0},p(l,f){t&&t.p&&(!e||f&128)&&ie(t,s,l,l[7],e?ce(s,l[7],f,null):ue(l[7]),null)},i(l){e||(E(t,l),e=!0)},o(l){D(t,l),e=!1},d(l){t&&t.d(l)}}}function cl(n){let e,s,t;const l=[{selectable:!0},n[2]];function f(o){n[5](o)}let a={$$slots:{default:[ul]},$$scope:{ctx:n}};for(let o=0;o<l.length;o+=1)a=de(a,l[o]);return n[0]!==void 0&&(a.selected=n[0]),e=new Ue({props:a}),He.push(()=>Ae(e,"selected",f)),e.$on("change",n[1]),e.$on("click",n[6]),{c(){R(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){O(e,o,r),t=!0},p(o,[r]){const i=r&4?ot(l,[l[0],rt(o[2])]):{};r&128&&(i.$$scope={dirty:r,ctx:o}),!s&&r&1&&(s=!0,i.selected=o[0],Ce(()=>s=!1)),e.$set(i)},i(o){t||(E(e.$$.fragment,o),t=!0)},o(o){D(e.$$.fragment,o),t=!1},d(o){Q(e,o)}}}function ml(n,e,s){let{$$slots:t={},$$scope:l}=e,{item:f}=e,{selected:a}=e;const{handleSelectRow:o}=bt("selectable-table-context"),r=b=>{o(b,f)};function i(b){a=b,s(0,a)}function _(b){Ie.call(this,n,b)}return n.$$set=b=>{s(2,e=de(de({},e),De(b))),"item"in b&&s(3,f=b.item),"selected"in b&&s(0,a=b.selected),"$$scope"in b&&s(7,l=b.$$scope)},e=De(e),[a,r,e,f,t,i,_,l]}class nt extends oe{constructor(e){super(),re(this,e,ml,cl,le,{item:3,selected:0})}}function _l(n){var Oe,Qe,je;let e,s,t,l,f,a=n[2].id+"",o,r,i,_,b,A=x(n[2].startTime,n[3])+"",c,g,k,S,F,m,h,U=n[2].name+"",j,d,H,q,V,se=x(n[2].endTime,n[3])+"",me,ve,ne,be,he=x(n[2].startTime,n[3])+"",Ee,Se,ae,ke,we=x(n[2].endTime,n[3])+"",We,J,Le,Re;return s=new yt({props:{status:n[2].status,delay:Ge(n[2].startTime)}}),i=new st({props:{show:n[4],content:n[2].id,filterable:!1}}),H=new st({props:{show:n[4],content:n[2].name,onFilter:n[14],filtered:(je=(Qe=(Oe=n[6].url)==null?void 0:Oe.searchParams)==null?void 0:Qe.get("query"))==null?void 0:je.includes(n[2].name)}}),{c(){e=W("td"),R(s.$$.fragment),t=C(),l=W("td"),f=W("span"),o=L(a),r=C(),R(i.$$.fragment),_=C(),b=W("p"),c=L(A),g=C(),k=W("td"),S=W("h3"),F=L("Workflow Name:"),m=C(),h=W("span"),j=L(U),d=C(),R(H.$$.fragment),q=C(),V=W("p"),me=L(se),ve=C(),ne=W("td"),be=W("p"),Ee=L(he),Se=C(),ae=W("td"),ke=W("p"),We=L(we),this.h()},l(w){e=y(w,"TD",{});var P=I(e);M(s.$$.fragment,P),P.forEach(u),t=N(w),l=y(w,"TD",{class:!0});var X=I(l);f=y(X,"SPAN",{class:!0});var _e=I(f);o=B(_e,a),_e.forEach(u),r=N(X),M(i.$$.fragment,X),_=N(X),b=y(X,"P",{class:!0});var $=I(b);c=B($,A),$.forEach(u),X.forEach(u),g=N(w),k=y(w,"TD",{class:!0});var K=I(k);S=y(K,"H3",{class:!0});var pe=I(S);F=B(pe,"Workflow Name:"),pe.forEach(u),m=N(K),h=y(K,"SPAN",{class:!0});var ge=I(h);j=B(ge,U),ge.forEach(u),d=N(K),M(H.$$.fragment,K),q=N(K),V=y(K,"P",{class:!0});var ze=I(V);me=B(ze,se),ze.forEach(u),K.forEach(u),ve=N(w),ne=y(w,"TD",{class:!0});var Me=I(ne);be=y(Me,"P",{});var Ve=I(be);Ee=B(Ve,he),Ve.forEach(u),Me.forEach(u),Se=N(w),ae=y(w,"TD",{class:!0});var Ke=I(ae);ke=y(Ke,"P",{});var Je=I(ke);We=B(Je,we),Je.forEach(u),Ke.forEach(u),this.h()},h(){T(f,"class","table-link svelte-si1lto"),T(b,"class","inline-time-cell svelte-si1lto"),T(l,"class","relative truncate"),T(S,"class","md:hidden"),T(h,"class","table-link svelte-si1lto"),T(V,"class","inline-time-cell svelte-si1lto"),T(k,"class","relative truncate"),T(ne,"class","time-cell svelte-si1lto"),T(ae,"class","time-cell svelte-si1lto")},m(w,P){p(w,e,P),O(s,e,null),p(w,t,P),p(w,l,P),v(l,f),v(f,o),v(l,r),O(i,l,null),v(l,_),v(l,b),v(b,c),p(w,g,P),p(w,k,P),v(k,S),v(S,F),v(k,m),v(k,h),v(h,j),v(k,d),O(H,k,null),v(k,q),v(k,V),v(V,me),p(w,ve,P),p(w,ne,P),v(ne,be),v(be,Ee),p(w,Se,P),p(w,ae,P),v(ae,ke),v(ke,We),J=!0,Le||(Re=[z(l,"mouseover",n[9]),z(l,"focus",n[10]),z(l,"mouseleave",n[11]),z(l,"blur",n[12]),z(h,"click",Pe(Te(n[13]))),z(k,"mouseover",n[15]),z(k,"focus",n[16]),z(k,"mouseleave",n[17]),z(k,"blur",n[18])],Le=!0)},p(w,P){var K,pe,ge;const X={};P&4&&(X.status=w[2].status),P&4&&(X.delay=Ge(w[2].startTime)),s.$set(X),(!J||P&4)&&a!==(a=w[2].id+"")&&G(o,a);const _e={};P&16&&(_e.show=w[4]),P&4&&(_e.content=w[2].id),i.$set(_e),(!J||P&12)&&A!==(A=x(w[2].startTime,w[3])+"")&&G(c,A),(!J||P&4)&&U!==(U=w[2].name+"")&&G(j,U);const $={};P&16&&($.show=w[4]),P&4&&($.content=w[2].name),P&4&&($.onFilter=w[14]),P&68&&($.filtered=(ge=(pe=(K=w[6].url)==null?void 0:K.searchParams)==null?void 0:pe.get("query"))==null?void 0:ge.includes(w[2].name)),H.$set($),(!J||P&12)&&se!==(se=x(w[2].endTime,w[3])+"")&&G(me,se),(!J||P&12)&&he!==(he=x(w[2].startTime,w[3])+"")&&G(Ee,he),(!J||P&12)&&we!==(we=x(w[2].endTime,w[3])+"")&&G(We,we)},i(w){J||(E(s.$$.fragment,w),E(i.$$.fragment,w),E(H.$$.fragment,w),J=!0)},o(w){D(s.$$.fragment,w),D(i.$$.fragment,w),D(H.$$.fragment,w),J=!1},d(w){w&&u(e),Q(s),w&&u(t),w&&u(l),Q(i),w&&u(g),w&&u(k),Q(H),w&&u(ve),w&&u(ne),w&&u(Se),w&&u(ae),Le=!1,ft(Re)}}}function dl(n){let e,s,t;var l=n[0]?nt:Ue;function f(a){return{props:{item:a[2],selected:a[1],href:a[5],class:"workflow-summary-row",$$slots:{default:[_l]},$$scope:{ctx:a}}}}return l&&(e=Xe(l,f(n))),{c(){e&&R(e.$$.fragment),s=te()},l(a){e&&M(e.$$.fragment,a),s=te()},m(a,o){e&&O(e,a,o),p(a,s,o),t=!0},p(a,[o]){const r={};if(o&4&&(r.item=a[2]),o&2&&(r.selected=a[1]),o&32&&(r.href=a[5]),o&524380&&(r.$$scope={dirty:o,ctx:a}),l!==(l=a[0]?nt:Ue)){if(e){Y();const i=e;D(i.$$.fragment,1,0,()=>{Q(i,1)}),Z()}l?(e=Xe(l,f(a)),R(e.$$.fragment),E(e.$$.fragment,1),O(e,s.parentNode,s)):e=null}else l&&e.$set(r)},i(a){t||(e&&E(e.$$.fragment,a),t=!0)},o(a){e&&D(e.$$.fragment,a),t=!1},d(a){a&&u(s),e&&Q(e,a)}}}function bl(n,e,s){let t,l;Ne(n,it,d=>s(6,l=d));let{bulkActionsEnabled:f=!1}=e,{selected:a=!1}=e,{namespace:o}=e,{workflow:r}=e,{timeFormat:i}=e,_=!1;const b=d=>{const H=Ye({timeRange:"All"}),q=l.url.searchParams.get("query"),V=rl(q!=null?q:H),se=(V==null?void 0:V.workflowType)===d?"":d,me=Ye({...V,workflowType:se});Tt({url:l.url,parameter:"query",value:me,allowEmpty:!0})},A=()=>s(4,_=!0),c=()=>s(4,_=!0),g=()=>s(4,_=!1),k=()=>s(4,_=!1),S=()=>b(r.name),F=()=>b(r.name),m=()=>s(4,_=!0),h=()=>s(4,_=!0),U=()=>s(4,_=!1),j=()=>s(4,_=!1);return n.$$set=d=>{"bulkActionsEnabled"in d&&s(0,f=d.bulkActionsEnabled),"selected"in d&&s(1,a=d.selected),"namespace"in d&&s(8,o=d.namespace),"workflow"in d&&s(2,r=d.workflow),"timeFormat"in d&&s(3,i=d.timeFormat)},n.$$.update=()=>{n.$$.dirty&260&&s(5,t=gt({namespace:o,workflow:r.id,run:r.runId}))},[f,a,r,i,_,t,l,b,o,A,c,g,k,S,F,m,h,U,j]}class Ll extends oe{constructor(e){super(),re(this,e,bl,dl,le,{bulkActionsEnabled:0,selected:1,namespace:8,workflow:2,timeFormat:3})}}var Bl=hl;function hl(n,e,s,t){var l,f,a;return function(){if(a=this,f=Array.prototype.slice.call(arguments),l&&(s||t))return;if(!s)return i(),l=setTimeout(r,e),l;l=setTimeout(i,e),n.apply(a,f);function r(){i(),n.apply(a,f)}function i(){clearTimeout(l),l=null}}}function at(n){let e,s;return e=new qe({props:{name:"search",class:"ml-4 flex items-center text-gray-700"}}),{c(){R(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,l){O(e,t,l),s=!0},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){D(e.$$.fragment,t),s=!1},d(t){Q(e,t)}}}function kl(n){let e;return{c(){e=L(n[2])},l(s){e=B(s,n[2])},m(s,t){p(s,e,t)},p(s,t){t&4&&G(e,s[2])},d(s){s&&u(e)}}}function wl(n){let e,s,t,l,f,a,o,r,i,_,b,A,c=n[4]&&at();return i=new Dt({props:{class:"m-2",type:"submit",$$slots:{default:[kl]},$$scope:{ctx:n}}}),{c(){e=W("form"),c&&c.c(),s=C(),t=W("label"),l=L(n[2]),f=C(),a=W("input"),o=C(),r=W("div"),R(i.$$.fragment),this.h()},l(g){e=y(g,"FORM",{class:!0});var k=I(e);c&&c.l(k),s=N(k),t=y(k,"LABEL",{for:!0,class:!0});var S=I(t);l=B(S,n[2]),S.forEach(u),f=N(k),a=y(k,"INPUT",{id:!0,type:!0,class:!0,name:!0,placeholder:!0,autocomplete:!0}),o=N(k),r=y(k,"DIV",{});var F=I(r);M(i.$$.fragment,F),F.forEach(u),k.forEach(u),this.h()},h(){T(t,"for",n[5]),T(t,"class","hidden"),T(a,"id",n[5]),T(a,"type","text"),T(a,"class","w-full rounded-l-lg px-4 focus:outline-none"),T(a,"name",n[3]),a.value=n[1],T(a,"placeholder",n[0]),T(a,"autocomplete","off"),T(e,"class","relative flex items-center rounded-lg border-2 transition-colors focus-within:border-blue-700")},m(g,k){p(g,e,k),c&&c.m(e,null),v(e,s),v(e,t),v(t,l),v(e,f),v(e,a),v(e,o),v(e,r),O(i,r,null),_=!0,b||(A=[z(a,"input",n[7]),z(e,"submit",Te(n[6]))],b=!0)},p(g,[k]){g[4]?c?k&16&&E(c,1):(c=at(),c.c(),E(c,1),c.m(e,s)):c&&(Y(),D(c,1,1,()=>{c=null}),Z()),(!_||k&4)&&G(l,g[2]),(!_||k&32)&&T(t,"for",g[5]),(!_||k&32)&&T(a,"id",g[5]),(!_||k&8)&&T(a,"name",g[3]),(!_||k&2&&a.value!==g[1])&&(a.value=g[1]),(!_||k&1)&&T(a,"placeholder",g[0]);const S={};k&260&&(S.$$scope={dirty:k,ctx:g}),i.$set(S)},i(g){_||(E(c),E(i.$$.fragment,g),_=!0)},o(g){D(c),D(i.$$.fragment,g),_=!1},d(g){g&&u(e),c&&c.d(),Q(i),b=!1,ft(A)}}}function pl(n,e,s){let{placeholder:t=""}=e,{value:l=""}=e,{label:f="Search"}=e,{name:a="query"}=e,{icon:o=!1}=e,{id:r=`${f.toLocaleUpperCase()}-input`}=e;function i(b){Ie.call(this,n,b)}function _(b){Ie.call(this,n,b)}return n.$$set=b=>{"placeholder"in b&&s(0,t=b.placeholder),"value"in b&&s(1,l=b.value),"label"in b&&s(2,f=b.label),"name"in b&&s(3,a=b.name),"icon"in b&&s(4,o=b.icon),"id"in b&&s(5,r=b.id)},[t,l,f,a,o,r,i,_]}class Ul extends oe{constructor(e){super(),re(this,e,pl,wl,le,{placeholder:0,value:1,label:2,name:3,icon:4,id:5})}}export{Ul as S,Fl as W,Ll as a,Bl as j,rl as t};
