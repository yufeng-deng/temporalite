import{r as u,a as r}from"./route-for-api-652ea8c7.js";import{s as h}from"./parse-with-big-int-561ccb8b.js";import{v as l}from"./v4-f2cd1a04.js";const w=async(e,s=fetch)=>{var d;let t="";const a=o=>{var f,p;return t=(p=(f=o==null?void 0:o.body)==null?void 0:f.message)!=null?p:`Error fetching schedules: ${o.status}: ${o.statusText}`},n=await u("schedules",{namespace:e}),{schedules:i,nextPageToken:c}=(d=await r(n,{params:{},onError:a,request:s}))!=null?d:{schedules:[],nextPageToken:""};return{schedules:i,nextPageToken:String(c),error:t}};async function T(e,s=fetch){const t=await u("schedule",e);return r(t,{request:s})}async function E(e,s=fetch){const t=await u("schedule.delete",e);return r(t,{request:s,options:{method:"DELETE"}})}async function S({namespace:e,body:s}){let t="";const a=c=>{var d,o;return t=(o=(d=c==null?void 0:c.body)==null?void 0:d.message)!=null?o:`Error creating schedule: ${c.status}: ${c.statusText}`},n=await u("schedules",{namespace:e}),{conflictToken:i}=await r(n,{options:{method:"POST",body:h({request_id:l(),...s})},shouldRetry:!1,onError:a});return{conflictToken:i,error:t}}async function P({namespace:e,scheduleId:s,reason:t}){const a={patch:{pause:t}},n=await u("schedule",{namespace:e,scheduleId:s});return await r(n,{options:{method:"PATCH",body:h({...a,request_id:l()})},shouldRetry:!1,onError:i=>console.error(i)})}async function x({namespace:e,scheduleId:s,reason:t}){const a={patch:{unpause:t}},n=await u("schedule",{namespace:e,scheduleId:s});return await r(n,{options:{method:"PATCH",body:h({...a,request_id:l()})},shouldRetry:!1})}export{w as a,S as c,E as d,T as f,P as p,x as u};
